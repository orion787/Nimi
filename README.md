### ![nimi-nightmare-baku](https://github.com/user-attachments/assets/831b199e-110d-4646-aec2-3b7f32f220e5)

# Nimi

*(FOR EDUCATIONAL PURPOSES)*  

**Database engine for automating work with domain (models in SqLite) and UI generation**

---

### üìã Requirements
Microsoft.EntityFrameworkCore.Sqlite <br>
Microsoft.EntityFrameworkCore.Design <br>
 
---

üìÑ *Readme is written for my educational institution (you can translate it using a translator from Russian).*

---

### üìñ **–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
Nimi —ç—Ç–æ DooBy (https://github.com/orion787/DooBy), –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω–∞—è C# <br>
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Å—É—â–Ω–æ—Å—Ç—å—é –∏–∑ –∫–∞–∫–æ–π-–ª–∏–±–æ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –°—É—â–Ω–æ—Å—Ç—å (–≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç –∏–∑ —Å–µ–±—è –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤ Nimi.Data.Models –æ–±—ä–µ–∫—Ç / –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤, —Ö—Ä–∞–Ω—è—â–∏–π—Å—è –≤ –ë–î SQLite. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç GUI (WinForms) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç—Ç–æ–π –º–æ–¥e–ª—å—é, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è GUI –ø–æ –≤–∞—à–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é, –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GUI –±—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω –Ω–∏–∂–µ.<br>
–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –ë–î —Ö—Ä–∞–Ω–∏—Ç —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π, —Å–ø–∏—Å–æ–∫ –∫–æ—Ç—Ä—ã—Ö (—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–µ–∫, —Ç–æ –µ—Å—Ç—å –∫–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É.

### üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Nimi –Ω–µ–±—Ö–æ–¥–∏–º–æ:
1. –†–∞–∑–∞—Ä–±–æ—Ç–∞—Ç—å —Å–≤–æ—é –º–æ–¥–µ–ª—å/–º–æ–¥–µ–ª–∏ –≤ Nimi.Data.Models –∏ –æ–±—è–∑–∞–Ω—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é –∏–∑ –Ω–∏—Ö –æ—Ç  EntityBase. –ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–ª–µ –Ω–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–æ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∞–Ω–Ω–æ—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ Hidden. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ —è–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–≤—ã—á–∏—Å–ª—è–µ–º—ã–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∞–Ω–Ω–æ—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ NotMapped, —á—Ç–æ–±—ã –æ–Ω–æ –Ω–µ –ø–æ–ø–∞–ª–æ –≤ —Ç–∞–ª–∏—Ü—É –ë–î.
2. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç EntityRelation(<–∏–º—è_—Å—É—â–Ω–æ—Å—Ç–∏>).
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
    public class Partner : EntityBase
    {
        public string Name { get; set; } = "";
        public string Type { get; set; } = "";
        public string Director { get; set; } = "";
        public string Phone { get; set; } = "";
        public string Email { get; set; } = "";
        public int Rating { get; set; }


        [Hidden]
        [EntityRelation(typeof(Sale))]
        public ICollection<Sale> Sales { get; set; } = new List<Sale>();

        [Hidden]
        public decimal TotalSales
            => Sales.Sum(s => s.TotalPrice);
    }
```

3. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–≤—Ç–æ–≤—ã—á–∏—Å–ª—è–µ–º–æ–≥–æ –ø–æ–ª—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'UowProvider'
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
        public int Discount
        {
            get
            {
                UnitOfWork _uow;
                _uow = UowProvider.GetInstance();

                var sales =_uow.Sales
                    .Query()
                    .Where(s => s.PartnerId == Id)
                    .Include(s => s.Product)
                    .AsEnumerable();

                decimal total = sales.Sum(s => (s.Product?.Price ?? 0m) * s.Quantity);

                if (total < 10_000) return 0;
                if (total < 50_000) return 5;
                if (total < 300_000) return 10;
                return 15;
            }
        }
```


4. –í Nimi.Data.DbContexts –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü –≤ —Ñ–∞–π–ª–µ –ë–î SQLite:
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
public DbSet<Partner> Partners { get; set; }
public DbSet<Product> Products { get; set; }
public DbSet<Sale> Sales { get; set; }
```



5. –í Nimi.Data.Repositories.Helpers –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î:
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
DbPath = Path.Combine(_solutionPath, "Resources", "partners.db");
```

   
---
–¢–µ–ø–µ—Ä—å –æ–ø–∏—à—É –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ CardForm.Designer.cs:<br><br>
6. –£–∫–∞–∂–∏—Ç–µ —Ä–∞–∑–º–µ—Ä—ã –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞ —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```–°#
Text = "–£—á—ë—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤";
ClientSize = new Size(900, 600);
```


7. –ü–æ—Å—Ç—Ä–æ—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–æ –µ—Å—Ç—å —É–∫–∞–∂–∏—Ç–µ –∫–∞–∫–∏–µ –ø–æ–ª—è –Ω–∞ –∫–∞–∫–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å:
  <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
_ui.AddRow(1, "Type", "Name", "Discount");      //–°—Ç—Ä–æ–∫–∞ 1
_ui.AddRow(2, "Phone");                         //–°—Ç—Ä–æ–∫–∞ 2
_ui.AddRow(3, "Director", "Email");             //–°—Ç—Ä–æ–∫–∞ 3
_ui.AddRow(4, "Rating");                        //–°—Ç—Ä–æ–∫–∞ 4
```
8. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–µ–π –¥–æ –∏ –ø–æ—Å–ª–µ –ø–æ–ª–µ–π, –∞ —Ç–∞–∫–∂–µ –≤–∏–¥–∂–µ—Ç—ã (–æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. –°—É—â–µ—Å—Ç–≤—É—é—Ç phone –∏ currency)
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
// –ü–æ–¥–ø–∏—Å–∏/–≤–∏–¥–∂–µ—Ç—ã/—Å—É—Ñ—Ñ–∏–∫—Å—ã
_ui.SetFieldLabel("Type", "–¢–∏–ø");               //–¢–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –ø–æ–ª–µ–º
_ui.SetFieldLabel("Name", "–ü–∞—Ä—Ç–Ω—ë—Ä");
_ui.SetFieldLabel("Discount", "–°–∫–∏–¥–∫–∞");
_ui.SetFieldSuffix("Discount", "%");            //–¢–µ–∫—Å—Ç –ø–æ—Å–ª–µ –ø–æ–ª—è  
_ui.SetSpecialWidget("Discount", "currency");   //–í–∏–¥–∂–µ—Ç

_ui.SetFieldLabel("Phone", "–¢–µ–ª–µ—Ñ–æ–Ω");          //–¢–µ—Å—Ç –ø–µ—Ä–µ–¥ –ø–æ–ª–µ–º
_ui.SetSpecialWidget("Phone", "phone");

_ui.SetFieldLabel("Director", "–î–∏—Ä–µ–∫—Ç–æ—Ä");
_ui.SetFieldLabel("Rating", "–†–µ–π—Ç–∏–Ω–≥");

_ui.BackgroundColor = Colors.LightBlue;         //–¶–≤–µ—Ç –æ–∫–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
_ui.CardBackground = Colors.Seashell;           //–¶–≤–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏

_ui.CardSpacing = 10;                           //–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
```

### üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç –∑–∞–ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License. –°–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–π—Ç–µ.
