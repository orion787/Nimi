# üêπ DooBy 
*(FOR EDUCATIONAL PURPOSES)*  

**Database engine for automating work with domain (models in SqLite) and UI generation**

---

### üìã Requirements
Microsoft.EntityFrameworkCore.Sqlite <br>
Microsoft.EntityFrameworkCore.Design <br>
 
---

üìÑ *Readme is written for my educational institution (you can translate it using a translator from Russian).*

---

### üìñ **–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Å—É—â–Ω–æ—Å—Ç—å—é –∏–∑ –∫–∞–∫–æ–π-–ª–∏–±–æ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –°—É—â–Ω–æ—Å—Ç—å (–≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç –∏–∑ —Å–µ–±—è –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤ Nimi.Data.Models –æ–±—ä–µ–∫—Ç / –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤, —Ö—Ä–∞–Ω—è—â–∏–π—Å—è –≤ –ë–î SQLite. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç GUI (WinForms) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç—Ç–æ–π –º–æ–¥e–ª—å—é, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è GUI –ø–æ –≤–∞—à–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é, –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GUI –±—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω –Ω–∏–∂–µ.<br>
–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –ë–î —Ö—Ä–∞–Ω–∏—Ç —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π, —Å–ø–∏—Å–æ–∫ –∫–æ—Ç—Ä—ã—Ö (—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–µ–∫, —Ç–æ –µ—Å—Ç—å –∫–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É.

### üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º dooby –Ω–µ–±—Ö–æ–¥–∏–º–æ:
1. –†–∞–∑–∞—Ä–±–æ—Ç–∞—Ç—å —Å–≤–æ—é –º–æ–¥–µ–ª—å/–º–æ–¥–µ–ª–∏ –≤ Nimi.Data.Models –∏ –æ–±—è–∑–∞–Ω—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ç EntityBase.–ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–ª–µ –Ω–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–æ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∞–Ω–Ω–æ—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ Hidden.
2. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç EntityRelation(<–∏–º—è_—Å—É—â–Ω–æ—Å—Ç–∏>).
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
    public class Partner : EntityBase
    {
        public string Name { get; set; } = "";
        public string Type { get; set; } = "";
        public string Director { get; set; } = "";
        public string Phone { get; set; } = "";
        public string Email { get; set; } = "";
        public int Rating { get; set; }


        [Hidden]
        [EntityRelation(typeof(Sale))]
        public ICollection<Sale> Sales { get; set; } = new List<Sale>();

        [Hidden]
        public decimal TotalSales
            => Sales.Sum(s => s.TotalPrice);

        public int Discount
        {
            get
            {
                if (TotalSales < 10_000) return 0;
                if (TotalSales < 50_000) return 5;
                if (TotalSales < 300_000) return 10;
                return 15;
            }
        }
    }
```


2. –í Nimi.Data.DbContexts –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü –≤ —Ñ–∞–π–ª—É –ë–î SQLite:
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
public DbSet<Partner> Partners { get; set; }
public DbSet<Product> Products { get; set; }
public DbSet<Sale> Sales { get; set; }
```



2. –í Nimi.UI –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î:
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```C#
string DbPath = Path.Combine(_solutionPath, "Resources", "partners.db");
_uow = new UnitOfWork(DbPath);
```

   
---
–¢–µ–ø–µ—Ä—å –æ–ø–∏—à—É –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:<br><br>
3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞—Å—Ç—Ä–æ–∫–∏ UI –º–æ–¥–µ–ª—å—é, –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ dooby.gui.ui_layout_config 
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```Python
ui_config = UILayoutConfig(Partner)
```
4. –í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –∫–∞–∫–∏–µ –ø–æ–ª—è –ù–ï —Ö–æ—Ç–∏—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```Python
ui_config.excluded_fields.append('hideninfo')
```

5. –û–ø–∏—à–∏—Ç–µ –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–∫–Ω–∞ –∏ –∫–∞—Ä—Ç–æ—á–µ–∫
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```Python
ui_config.set_background_color(Colors.smoke)       #–¶–≤–µ—Ç –æ–∫–Ω–∞
ui_config.set_card_background(Colors.lightblue)    #–¶–≤–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
ui_config.set_alignment('left_custom_spacing')     #–í—ã—Ä–∞–≤–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–∞—Ä—Ç—á–æ–∫–∏ (–¥–æ—Å—Ç—É–ø–Ω—ã: left, center, right, left_custom_spacing)
ui_config.set_inter_element_spacing(40)            #–û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –ø–æ–ª—è–º–∏ –¥–ª—è left_custom_spacing
ui_config.set_card_spacing(10)                     #–û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
ui_config.set_font(('Arial', 12))                  #–í—ã–±–æ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏ –∫–µ–≥–µ–ª—è
```


6. –ü–æ—Å—Ç—Ä–æ—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–æ –µ—Å—Ç—å —É–∫–∞–∂–∏—Ç–µ –∫–∞–∫–∏–µ –ø–æ–ª—è –Ω–∞ –∫–∞–∫–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å:
  <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```Python
ui_config.layout = defaultdict(list, {
    1: ['name', 'type', 'discount'],
    2: ['phone'],
    3: ['director'],
    4: ['rating']
})
```
7. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–µ–π –¥–æ –∏ –ø–æ—Å–ª–µ –ø–æ–ª–µ–π
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```Python
ui_config.set_field_label('name', '–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ :')                             #–ü–µ—Ä–µ–¥ –ø–æ–ª–µ–º 
ui_config.set_field_label('type', '–¢–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ :')                          
ui_config.set_field_label('discount', '–°–∫–∏–¥–∫–∞ :')                               
ui_config.set_field_suffix('discount', '%')                                     #–ü–æ—Å–ª–µ –ø–æ–ª—è
ui_config.set_field_label('phone', '–¢–µ–ª–µ—Ñ–æ–Ω :')
ui_config.set_special_widget('type', 'combobox', ['–û–û–û', '–ò–ü', '–ê–û'])           #–í—ã–±–æ—Ä –¥–ª—è —Ä–µ–∂–∏–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
ui_config.set_special_widget('phone', 'phone')
ui_config.set_field_label('director', '–î–∏—Ä–µ–∫—Ç–æ—Ä :')
ui_config.set_field_label('rating', '–†–µ–π—Ç–∏–Ω–≥ :')
```
8. –î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–π—Ç–µ —ç–∫–∑–∞–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ DooByApp, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –≤ dooby.gui.main_page
   <br>–ù–∞–ø—Ä–∏–º–µ—Ä:
```Python
root = Tk()
DooByApp(root, Partner, title="–£—á–µ—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤", logo_path="resources//logo.png", ui_config=ui_config)
```
9. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ tkiner:
```Python
root.mainloop()
```


### üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç –∑–∞–ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License. –°–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–π—Ç–µ.
